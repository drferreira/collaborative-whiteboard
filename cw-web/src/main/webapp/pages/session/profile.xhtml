<ui:composition template="../../templates/generic.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="scripts">
        <h:outputStylesheet library="styles" name="profile.css"/>
        <h:outputScript library="js" name="profile.js"/>
    </ui:define>

    <ui:define name="pageContent">
        <h:form>
            <p:toolbar>
                <f:facet name="left">
                    <p:commandButton id="save" value="#{profile['toolbar.button.save']}"
                                     action="#{profileController.save()}" ajax="false" />
                </f:facet>
            </p:toolbar>
        </h:form>

        <div class="user_data">
            <h:form prependId="false">
                <div class="picture_area">
                    <p:graphicImage id="profile_image" value="#{profilePicture.getStreamProfilePicture()}"
                                    styleClass="profile_image" cache="false"/>
                    <br/>

                    <p:commandLink id="change_picture" value="Alterar"
                                   styleClass="remove_link_decoration standart_font"/>

                    <p:fileUpload widgetVar="input_file" id="input_file" styleClass="input_file" mode="advanced"
                                  fileUploadListener="#{profileController.updatePicture}" auto="true"
                                  update="profile_image"/>
                </div>
            </h:form>
            <h:form id="user_data" prependId="false">
                <div class="user_data_area">
                    <h:panelGrid columns="2" styleClass="user_data_grid" columnClasses="user_data_column">
                        <p:outputLabel for="firstName" value="#{profile['profile.name']}" styleClass="standart_font"/>
                        
			<p:inplace editor="true">
			<p:inputText size="60" id="firstName"
			  value="#{profileController.userEdition.firstUserName}" />
			</p:inplace>

                        <p:outputLabel for="lastName" value="#{profile['profile.last_name']}"
                                       styleClass="standart_font"/>
                        
			<p:inplace editor="true">
			<p:inputText size="60" id="lastName" value="#{profileController.userEdition.lastUserName}"/>
			</p:inplace>

                        <p:outputLabel for="birthdate" value="#{profile['profile.birthdate']}"
                                       styleClass="standart_font"/>
        
			<p:inplace editor="true">
				<p:calendar size="10" id="birthdate" pattern="dd/MM/yyyy" mask="true"
                                    value="#{profileController.userEdition.birthdate}">
					<f:convertDateTime ppattern="#{component.pattern}" />
				</p:calendar>
			</p:inplace>

                        <p:outputLabel for="email" value="#{profile['profile.email']}" styleClass="standart_font"/>
                        
			<p:inplace editor="true">
				<p:inputText size="60" id="email" value="#{profileController.userEdition.email}"/>
			</p:inplace>
                    </h:panelGrid>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
