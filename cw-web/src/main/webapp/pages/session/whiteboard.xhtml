<ui:composition template="../../templates/generic.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="pageContent">
        <ui:include src="../components/chat.xhtml"/>

        <div style="width: 450px">
            <h:form id="projectForm" prependId="false">
                <p:panel header="#{whiteboard['text.project']}">
                    <h:panelGrid columns="1">
                        <p:commandButton value="#{whiteboard['btn.new']}"
                                         action="#{whiteboardController.createProject()}"
                                         update=":projectForm,:accessForm"/>

                        <p:watermark value="#{whiteboard['project.name']}" for="createProjectShortcut"/>
                        <p:inputText id="createProjectShortcut" value="#{whiteboardController.projectName}"
                                     required="true"/>

                        <div>
                            <p:dataList id="projectList" value="#{whiteboardController.projects}" var="project">
                                <p:commandLink value="#{project.nameProject}" action="#{whiteboardController.openProject(project)}" process="@this"/>
                                <h:outputText />
                                <hr/>
                            </p:dataList>
                        </div>
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </div>

        <div>
            <h:form id="accessForm" prependId="false">
                <p:commandLink id="backlog" action="#{whiteboardController.goToBacklog()}" ajax="false"
                               rendered="#{whiteboardController.hasSomeProject()}">
                    <p:graphicImage url="http://localhost:8080/cw/images/backlog_icon.png"/>
                </p:commandLink>
            </h:form>
        </div>

    </ui:define>

</ui:composition>